/* Inspector.js v0.1.0 */
!function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(){return{navigator:{appCodeName:navigator.appCodeName,appName:navigator.appName,onLine:navigator.onLine,platform:navigator.platform,product:navigator.product,productSub:navigator.productSub,vendor:navigator.vendor,vendorSub:navigator.vendorSub}}}function d(){for(var a=navigator.userAgent.toLowerCase().replace(/ /g,"").split(""),b=0,c=0;c<a.length;c++)b+=a[c].charCodeAt();return b}function e(b,c){var d;if("FormData"in a){d=new FormData;for(var e in c)d.append(e,c[e])}else{b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d=[];for(var f in c)d.push(s+"="+c[f]);d=d.join("&")}return d}function f(b,c){a.setTimeout(function(){p.get({url:i+"/instructions?last_id="+l+"&device_id="+m,data:b,onload:function(d){if(d=JSON.parse(d),d&&d.id){l=d.id;var e=new Function(d.code);e.call(a)}f(b,c)}})},c)}function g(a){var b=Date.now(),c=Math.random()*b,d=Math.ceil(b+c);a.setAttribute("data-loggid",d);for(var e=0;e<a.children.length;e++)g(a.children[e])}var h,i="http://localhost:3000/endpoint",j=!1,k=1500,l=0,m=0,n=0,o=!1,p={request:function(b,c){c=c||{},c.data=c.data||{},c.data.device_id=m;var d=new XMLHttpRequest;d.open(b,c.url,!0);var f=e(d,c.data);d.onload=function(){4===this.readyState&&c.onload&&c.onload.call(a,d.responseText),d=null},d.send(f)},get:function(a){p.request("GET",a)},post:function(a){p.request("POST",a)}},q={settings:{},register:function(a){this.settings.identifier=Date.now(),this.settings.navigator=navigator.userAgent,this.settings=b(this.settings,a);var c={identifier:this.settings.identifier+d(),navigator:this.settings.navigator,name:this.settings.name+" ("+navigator.platform+")",client_key:this.settings.client_key};this.settings.group&&(c.group=this.settings.group),p.post({url:i+"/register",data:c,onload:function(a){o=!0;var a=JSON.parse(a);a&&(l=a.id,m=a.device_id),a.device_group_id&&(n=a.device_group_id),q.init()}}),g(document.documentElement),q.initHighlight()},init:function(){if(q.log&&q.log("Logg.io is working now"),o){j=void 0!==this.settings.polling?this.settings.polling:j,k=void 0!=this.settings.pollingInterval?this.settings.pollingInterval:k;var a={last_id:l,device_id:m};f(a,k)}},destroy:function(){h&&a.clearInterval(h)}};a.onerror=function(a,b,c,d){var e={message_type:"native_error",content:{message:a,script:b,line:c}};return void 0!==d&&(e.content.column=d),e.content=JSON.stringify(e.content),p.post({url:i+"/messages",data:e}),!0};var r=["log","info","warn","error"];for(var s in r){var t=r[s];!function(a){q[a]=function(){var b=[].slice.call(arguments,0),c={message_type:a,content:JSON.stringify(b)};p.post({url:i+"/messages",data:c})}}(t)}q.boxModel=function(b){if(!("querySelector"in a.document||"getComputedStyle"in a))return!1;var c=a.document.querySelector(b),d=a.getComputedStyle(c),e={};e[b]={contentWidth:parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),contentHeight:parseInt(d.height)-parseInt(d.paddingTop)-parseInt(d.paddingBottom)-parseInt(d.borderTopWidth)-parseInt(d.borderBottomWidth),borderTopWidth:parseInt(d.borderTopWidth),borderBottomWidth:parseInt(d.borderBottomWidth),borderLeftWidth:parseInt(d.borderLeftWidth),borderRightWidth:parseInt(d.borderRightWidth),marginTop:parseInt(d.marginTop),marginBottom:parseInt(d.marginBottom),marginLeft:parseInt(d.marginLeft),marginRight:parseInt(d.marginRight),paddingTop:parseInt(d.paddingTop),paddingBottom:parseInt(d.paddingBottom),paddingLeft:parseInt(d.paddingLeft),paddingRight:parseInt(d.paddingRight),clientWidth:c.clientWidth,clientHeight:c.clientHeight,offsetWidth:c.offsetWidth,offsetHeight:c.offsetHeight,scrollWidth:c.scrollWidth,scrollHeight:c.scrollHeight};var f={message_type:"box_model",content:JSON.stringify(e)};p.post({url:i+"/messages",data:f})},q.highlightElement=function(b){if("string"==typeof b&&"querySelector"in a.document&&(b=a.document.querySelector(b)),!b)return!1;if(!("getBoundingClientRect"in b||"getComputedStyle"in a))return!1;var c=a.getComputedStyle(b),d=b.getBoundingClientRect(),e={contentWidth:parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),contentHeight:parseInt(c.height)-parseInt(c.paddingTop)-parseInt(c.paddingBottom)-parseInt(c.borderTopWidth)-parseInt(c.borderBottomWidth),borderTopWidth:parseInt(c.borderTopWidth),borderBottomWidth:parseInt(c.borderBottomWidth),borderLeftWidth:parseInt(c.borderLeftWidth),borderRightWidth:parseInt(c.borderRightWidth),marginTop:parseInt(c.marginTop),marginBottom:parseInt(c.marginBottom),marginLeft:parseInt(c.marginLeft),marginRight:parseInt(c.marginRight),paddingTop:parseInt(c.paddingTop),paddingBottom:parseInt(c.paddingBottom),paddingLeft:parseInt(c.paddingLeft),paddingRight:parseInt(c.paddingRight)},f=document.getElementById("margin_container"),g=document.getElementById("border_container"),h=document.getElementById("padding_container"),i=document.getElementById("content_container");f.style.top=d.top-e.marginTop+"px",f.style.left=d.left-e.marginLeft+"px",f.style.width=e.contentWidth+e.paddingLeft+e.paddingRight+e.marginLeft+e.marginRight+"px",f.style.height=e.contentHeight+e.paddingTop+e.paddingBottom+e.marginTop+e.marginBottom+"px",g.style.top=e.marginTop+"px",g.style.left=e.marginLeft+"px",g.style.width=e.contentWidth+e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth+"px",g.style.height=e.contentHeight+e.paddingTop+e.paddingBottom+e.borderTopWidth+e.borderBottomWidth+"px",h.style.top="0px",h.style.left="0px",h.style.width=e.contentWidth+e.paddingLeft+e.paddingRight+"px",h.style.height=e.contentHeight+e.paddingTop+e.paddingBottom+"px",i.style.top=e.paddingTop+"px",i.style.left=e.paddingLeft+"px",i.style.width=e.contentWidth+"px",i.style.height=e.contentHeight+"px"},q.initHighlight=function(){var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div");b.id="margin_container",c.id="border_container",d.id="padding_container",e.id="content_container",b.style.position="absolute",c.style.position="absolute",d.style.position="absolute",e.style.position="absolute",b.style.backgroundColor="rgb(211, 84, 0)",c.style.backgroundColor="rgb(243, 156, 18)",d.style.backgroundColor="rgb(39, 174, 96)",e.style.backgroundColor="rgb(41, 128, 185)",b.style.opacity="0.6",d.appendChild(e),c.appendChild(d),b.appendChild(c),b.style.width="0px",b.style.height="0px",b.style.zIndex=616,b.style.overflow="hidden",a.document.body.appendChild(b)},q.resetHighlight=function(){var b=a.document.getElementById("margin_container");b.style.width="0px",b.style.height="0px"},q.getComputedStyle=function(b){if(!("querySelector"in a.document||"getComputedStyle"in a))return!1;var c=a.document.querySelector(b),d={},e=a.getComputedStyle(c),f=Array.prototype.slice.call(e,0);d[b]={};for(var g=0;g<f.length;g++){var h=f[g];d[b][h]=encodeURIComponent(e[h])}c=e=f=null;var j={message_type:"computed_style",content:JSON.stringify(d)};p.post({url:i+"/messages",data:j})},q.getDOM=function(){var a=document.doctype,b="";if(a)var b="<!DOCTYPE "+a.name+(a.publicId?' PUBLIC "'+a.publicId+'"':"")+(!a.publicId&&a.systemId?" SYSTEM":"")+(a.systemId?' "'+a.systemId+'"':"")+">";var c={message_type:"dom",content:b+document.documentElement.outerHTML};p.post({url:i+"/messages",data:c})},q.getNavigator=function(){var a={message_type:"navigator",content:JSON.stringify(c())};p.post({url:i+"/messages",data:a})},a.Logg=q}(window);